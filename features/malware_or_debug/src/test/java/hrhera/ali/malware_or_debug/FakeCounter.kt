package hrhera.ali.malware_or_debug

import hrhera.ali.core.Counter

class FakeCounter(
    private val onTimeChange: (Long) -> Unit,
    private val onCounterFinish: () -> Unit
) : Counter {
    var startedTime: Int = 0
    var cancelled = false
    override fun start(time: Int) {
        startedTime = time
    }

    override fun onFinish() {
        onCounterFinish()
    }

    override fun onTick(millisUntilFinished: Long) {
        onTimeChange(millisUntilFinished)
    }

    override fun onPause(getTime: (Long) -> Unit) {
        getTime(startedTime.toLong() * 1000)
    }

    override fun cancel() {
        cancelled = true
    }
}
